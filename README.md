# Living Open Source Africa Community

As a way of fostering Open Source adoption in Africa, the Living Open Source Community is working towards building a unified platform for sharing resources and providing remote online training and events.

# REQUIREMENTS

* PHP 7.x.x

>PHP Modules required

Modules (cli, curl, mbstring, pdo, mysql, gd, zip, xml, json,bcmath, ctype, dom, xml, openssl, tokenizer, zip)

* MySQL/MariaBD

* Composer

* NodeJS

* Git

# SETUP

Start by cloning this repository to your local machine

```bash
git clone https://github.com/living-opensource-zambia/los-community.git
```

Then change directory into the repository.

```bash
cd los-community
```

At this stage, you should already have installed composer, if you do not have composer.
Do the following:

```bash
php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
sudo php composer-setup.php --install-dir=/usr/local/bin --filename=composer
php -r "unlink('composer-setup.php');"
```

Inside of the los-community directory, install laravel dependenciesby typing:

```bash
composer install
```

After installation of all dependenies, then copy the .env.example into .env, e.g:

```bash
cp .env.example .env
```

Then generate a laravel key by typing:

```bash
php artisan key:generate
```

Then create an empty database and give it a name, e.g los_community:

```bash
mysql -u username -p

CREATE DATABASE los_community;
```

After creating the database, setup laravel to access your database from the [.env file](.env) by setting up the following parameters.

```.env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=los_community
DB_USERNAME=root
DB_PASSWORD=password
```

You also need to setup emails and password to be used for the dummy users to be generated by the seeder.

```.env
ADMIN_EMAIL="arthur@kalikiti.net"
MEMBER_EMAIL="edwin.zimba@livingopensource.africa"
STUDENT_EMAIL="santos.chibenga@livingopensource.africa"
DEFAULT_PASSWORD="loss-community@home"
```

The above parameters are used in generating seeds in [UserDataSeeder.php](database/seeds/UserDataSeeder.php).

```php
    public function run()
    {
         // Create a faker instance
         $faker = Faker\Factory::create();

         \App\User::create([
             'name' => $faker->name,
             'email' => env('ADMIN_EMAIL'),
             'user_type' => 1,
             'email_verified_at' => \Carbon\Carbon::now(),
             'password' => Hash::make(env('DEFAULT_PASSWORD'))
         ]);
 
         \App\User::create([
             'name' => $faker->name,
             'email' => env('MEMBER_EMAIL'),
             'user_type' => 2,
             'email_verified_at' => \Carbon\Carbon::now(),
             'password' => Hash::make(env('DEFAULT_PASSWORD'))
         ]);
 
         \App\User::create([
             'name' => $faker->name,
             'email' => env('STUDENT_EMAIL'),
             'user_type' => 3,
             'email_verified_at' => \Carbon\Carbon::now(),
             'password' => Hash::make(env('DEFAULT_PASSWORD'))
         ]);
    }
```

To populate your database, run the migrations with the seed option:

```bash
php artisan migrate:fresh --seed
```

Install the node dependencies, with the following command:

```bash
npm install
```

After that is done, you are ready to roll.

Run the two development servers, i.e laravel & npm by typing:

*Not* Run these in separate terminals 

terminal 1:

```bash
npm run watch
```

Terminal 2:

```bash
php artisan serve
```

You are all set now :joy:

# LICENSE

This project is ditributed under the MIT Open Source Licence, as documented [here](LICENSE)

